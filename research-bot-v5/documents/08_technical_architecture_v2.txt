VAPORWARE TECHNICAL ARCHITECTURE
Version: 2.0 (REPLACES VERSION 1.0)
Author: Kevin Park, VP Engineering
Date: October 12, 1999
Status: APPROVED

CRITICAL NOTICE: This document supersedes the v1.0 architecture. All new 
development must follow this specification. Migration of existing code 
is mandatory by November 30, 1999.

OVERVIEW

The original VaporWare architecture was designed for a pure enterprise 
middleware use case. Following the CEO's Unified Platform Vision, we 
must support both enterprise and consumer workloads on a shared platform.

This requires fundamental architectural changes.

WHAT'S CHANGING AND WHY

1. FROM UNIX-ONLY TO CROSS-PLATFORM
   Consumer users are on Windows. We must support Windows NT/2000 in 
   addition to Solaris and Linux. This affects our build system, testing 
   matrix, and deployment tooling.

2. FROM ORACLE-ONLY TO MULTI-DATABASE
   Oracle licensing is too expensive for consumer deployments. We're 
   adding support for MySQL and Microsoft SQL Server. The persistence 
   layer is being rewritten to support database abstraction.

3. FROM CORBA TO HTTP/XML
   CORBA is overkill for consumer use cases and creates deployment 
   complexity. New interfaces will use HTTP with XML payloads. We're 
   evaluating something called "SOAP" from Microsoftâ€”may adopt if it 
   gains traction.

4. FROM ON-PREMISES TO HOSTED
   Consumer product will be hosted on our infrastructure. This requires 
   new multi-tenant capabilities, usage metering, and operational tooling.

NEW COMPONENT ARCHITECTURE

[See attached diagram: vaporware_architecture_v2.png]

VAPOR ENGINE (Core) - LARGELY UNCHANGED
- Request Router: Now supports HTTP in addition to CORBA
- Transaction Manager: Adding "eventual consistency" mode for consumer
- Cache Layer: Migrating to open-source Memcached for cost savings
- Persistence Layer: New database abstraction layer (DAL)

VAPOR CONNECT (Integration) - ENTERPRISE ONLY
- No changes to adapter framework
- Adding web services gateway for HTTP/XML integration
- Deprecating some legacy protocol handlers (CICS, MQSeries v5)

VAPOR STUDIO (Consumer Creation) - NEW
- Web-based UI using Java Applets
- Template engine for rapid content creation
- Media processing pipeline for images, audio, video
- Preview and publishing workflow

VAPOR MARKETPLACE (Consumer Commerce) - NEW
- Product catalog and search
- Shopping cart and checkout
- Payment processing (CyberCash integration)
- Seller dashboards and analytics

VAPOR COMMUNITY (Consumer Social) - NEW
- User profiles and authentication
- Following/followers relationships
- Activity feeds and notifications
- Forums and messaging

SHARED SERVICES (Cross-Platform)
- Identity Service: Unified authentication across enterprise and consumer
- Storage Service: Object storage for files and media
- Search Service: Full-text search using Verity
- Notification Service: Email and (future) SMS notifications

SCALABILITY TARGETS

Enterprise: Same as v1 (50,000 TPS per cluster)
Consumer: 
- 10 million registered users
- 500,000 concurrent sessions
- 1 billion page views per month
- 10 petabytes of user content storage

HOSTING INFRASTRUCTURE

Consumer platform will be hosted at Exodus Communications data center:
- 100 Sun Enterprise 4500 servers (initial deployment)
- NetApp filers for storage (1 PB initial)
- Cisco switches and routers
- F5 load balancers
- 1 Gbps internet connectivity (burstable to 10 Gbps)

Monthly infrastructure cost: Approximately $2.5 million

TEAM IMPLICATIONS

This architecture requires specialized skills we don't currently have:
- Web UI engineers (Java Applets, JavaScript, Flash)
- Database administrators for multi-database environment
- Operations engineers for hosted infrastructure
- Security specialists for consumer-facing systems

Estimated additional headcount: 45 engineers

TIMELINE RISKS

The v2 architecture is significantly more complex than v1. Current 
timeline shows:
- Enterprise 1.0: Slipping from Q1 2000 to Q2 2000
- Consumer beta: Targeting Q2 2000 (aggressive)
- Consumer 1.0: Targeting Q4 2000

These dates assume we hit all hiring targets and have no major 
technical issues. Both assumptions are optimistic.

OPEN ISSUES

1. The shared identity service is creating friction. Enterprise wants 
   LDAP/Kerberos, consumer wants simple username/password. Current 
   design tries to do both and satisfies neither.

2. Java Applets are problematic. Load times are slow, security warnings 
   scare users, and Apple just dropped Mac support. Should we consider 
   Flash or pure HTML/JavaScript?

3. Multi-database abstraction is more work than expected. Team is 
   proposing we cut SQL Server support and do MySQL only.

4. Diana (CTO) has raised concerns that we're trying to do too much. 
   She formally objected to this architecture in the review meeting 
   but was overruled by Marcus.

---
Kevin Park
VP Engineering, Vapor Labs

CC: Diana Reeves, CTO (noted objection)
